enum ActionKind {
    Walking,
    Idle,
    Jumping
}
controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    boomguysprite.setVelocity(0, -200)
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    projectile = sprites.createProjectileFromSprite(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . 4 . . . . . . . . 
        . . . . . . 4 . . . . . . . . . 
        . . . . . . . 4 . . . . . . . . 
        . . . . . . f f . . . . . . . . 
        . . . . . f f f f . . . . . . . 
        . . . . f f f f f f . . . . . . 
        . . . . f f f f f f . . . . . . 
        . . . . . f f f f . . . . . . . 
        . . . . . . f f . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, boomguysprite, 200, 0)
})
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    boomguysprite.setVelocity(-200, 0)
})
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    boomguysprite.setVelocity(200, 0)
})
controller.down.onEvent(ControllerButtonEvent.Pressed, function () {
    boomguysprite.setVelocity(0, 200)
})
sprites.onOverlap(SpriteKind.Projectile, SpriteKind.Enemy, function (sprite, otherSprite) {
    info.changeScoreBy(1)
    good_and_bad.destroy(effects.fire, 500)
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Enemy, function (sprite, otherSprite) {
    game.over(false, effects.dissolve)
})
let good_and_bad: Sprite = null
let projectile: Sprite = null
let boomguysprite: Sprite = null
info.setScore(0)
info.startCountdown(120)
scene.setBackgroundImage(img`
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111fffffffffffffff11111111111111111111111111111111111111
    11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111ffffffffffffffff1111111111111111111111111111111111111111111111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff1111111111111111111111111111111111111111111111111111111111111111111111111111111111fffff11ffff1fff11111111111111111111111111111111111111
    111111111f111111111111fff1111111111111111111111111111111111111111111111111111111111111111111111111111111111ff11f11f11f1fff11111111111111111111111111111111111111
    111111111f1ffff11ffff1fff111111111111111111111111111111111ffff111111111111111111111111111111111111111111111fff1f11ff1f1fff11111111111111111111111111111111111111
    111111111f1f11f11f11f1fff111111111111111111111111111111111f11f111111111111111111111111111111111111111111111fffff11ffff1fff11111111111111111111111111111111111111
    111111111f1f1ff11f1ff1fff111111111111111111111111111111111f11f111111111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f1ffff11ffff1fff111111111111111111111111111111111f11f111111111111111111111111111111111111111111111f1fffff11111fff11111111111111111111111111111111111111
    111111111f111111111111fff111111111111111111111111111111111f11f111111111111111111111111111111111111111111111f1fffff11111fff11111111111111111111111111111111111111
    111111111f1111ffffff11fff111111111111111111111111111111111f11f111111111111111111111111111111111111111111111f1fffff11111fff11111111111111111111111111111111111111
    111111111f1111ffffff11fff111111111111111111111111111111111f11f111111111111111111111111111111111111111111111f1fffff11111fff11111111111111111111111111111111111111
    111111111f1111ffffff11fff111111111111111111111111111111111f11f111111111111111111111111111111111111111111111f1fffff11111fff11111111111111111111111111111111111111
    111111111f1111ffffff11fff111111111111111111111111111111111ffff111111111111111111111111111111111111111111111f1fffff11111fff11111111111111111111111111111111111111
    111111111f1111ffffff11fff111111111111111111111111111111fffffffffff11111111111111111111111111111111111111111f1fffff11111fff11111111111111111111111111111111111111
    111111111f1111ffffff11fff11111111111111111111111111111f11111111111f1111111111111111111111111111111111111111f1fffff11111fff11111111111111111111111111111111111111
    111111111f1111ffffff11fff11111111111111111111111111111f11111111111f1111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f1111ffffff11fff11111111111111111111111111111f11111111111f1111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff11111111111111111111111111111f11111111111f1111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff11111111111111111111111111111f11111111111f1111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff11111111111111111111111111111f11111111111f1111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff11111111111111111111111111111f11111111111f1111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff11111111111111111111111111111f11111111111f1111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff11111111111111111111111111111f11111111111f1111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff11111111111111111111111111111f11111111111f1111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff11111111111111111111111111111f11111111111f1111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff11111111111111111111111111111f11111111111f1111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff11111111111111111111111111111f11111111111f1111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff11111111111111111111111111111f11111111111f1111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff111111111111111111111111111111fffffffffff11111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff1111111111111111111111111111111111111111111111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff1111111111111111111111111111111111111111111111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff1111111111111111111111111111111111111111111111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff1111111111111111111111111111111111111111111111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff1111111111111111111111111111111111111111111111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff1111111111111111111111111111111111111111111111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff1111111111111111111111111111111111111111111111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff1111111111111111111111111111111111111111111111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff1111111111111111111111111111111111111111111111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff1111111111111111111111111111111111111111111111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff1111111111111111111111111111111111111111111111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff1111111111111111111111111111111111111111111111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff1111111111111111111111111111111111111111111111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff1111111111111111111111111111111111111111111111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff1111111111111111111111111111111111111111111111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff1111111111111111111111111111111111111111111111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff1111111111111111111111111111111111111111111111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff1111111111111111111111111111111111111111111111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff1111111111111111111111111111111111111111111111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff1111111111111111111111111111111111111111111111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff1111111111111111111111111111111111111111111111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff1111111111111111111111111111111111111111111111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff1111111111111111111111111111111111111111111111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff1111111111111111111111111111111111111111111111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff1111111111111111111111111111111111111111111111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff1111111111111111111111111111111111111111111111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff1111111111111111111111111111111111111111111111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff1111111111111111111111111111111111111111111111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff1111111111111111111111111111111111111111111111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff1111111111111111111111111111111111111111111111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff1111111111111111111111111111111111111111111111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff1111111111111111111111111111111111111111111111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff1111111111111111111111111111111111111111111111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff1111111111111111111111111111111111111111111111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff1111111111111111111111111111111111111111111111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff1111111111111111111111111111111111111111111111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff1111111111111111111111111111111111111111111111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff1111111111111111111111111111111111111111111111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff1111111111111111111111111111111111111111111111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff1111111111111111111111111111111111111111111111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff1111111111111111111111111111111111111111111111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff1111111111111111111111111111111111111111111111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff1111111111111111111111111111111111111111111111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff1111111111111111111111111111111111111111111111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff1111111111111111111111111111111111111111111111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff1111111111111111111111111111111111111111111111111111111111111111111111111111111111f11111111111fff11111111111111111111111111111111111111
    111111111f111111111111fff1111111111111111111111111111111111111111111111111111111111111111111111111111111111fffffffffffffff11111111111111111111111111111111111111
    111111111f111111111111fff111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    111111111ffffffffffffffff111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
    `)
boomguysprite = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.Player)
let boomguy = animation.createAnimation(ActionKind.Walking, 500)
boomguy.addAnimationFrame(img`
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    .............fff................
    ...........fffffff..............
    ...........f1cffff..............
    ..........fffffffff.............
    ..........fffffffff.............
    ..........ffffccccc.............
    ...........fffffff..............
    ...........fffffff..............
    .............fff................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    `)
boomguy.addAnimationFrame(img`
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    .............fff................
    ...........fffffff..............
    ...........f1cfffc..............
    ..........ffffffc...............
    ..........fffffc................
    ..........ffffc.................
    ...........ffffc................
    ...........fffffc...............
    .............ffffc..............
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    `)
animation.attachAnimation(boomguysprite, boomguy)
animation.setAction(boomguysprite, ActionKind.Walking)
game.onUpdateInterval(2000, function () {
    good_and_bad = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . f 1 f . . . . . . . 
        . . . . . f 1 1 1 f . . . . . . 
        . . . . . f f f f f . . . . . . 
        . . . . . . f f f . . . . . . . 
        . . . . . . f . f . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.Enemy)
    good_and_bad.x = randint(0, 10)
    good_and_bad.y = randint(0, scene.screenHeight())
    good_and_bad.follow(boomguysprite, 100)
})
forever(function () {
    music.playMelody("C5 B C5 E E C5 A G ", 224)
})
